<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Language" content="en">
    <meta name="author" content="Waseem Akram">
    <meta name="description" content="">
    <meta name="keywords" content="Researcher, Pentest, dev">
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Posts" />
    <meta name="twitter:description" content="" />
    <meta property="og:title" content="Posts" />
    <meta property="og:description" content="" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="/posts/" />
    <title>andorid application basics - Waseem Akram</title>
    <link rel="canonical" href="/posts.html">
    <link rel="preload" href="../fonts/forkawesome-webfont.woff2v=1.1.7" as="font" type="font/woff2" crossorigin>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/normalize.css" />
    <link rel="manifest" href="/js/manifest.json">
    <link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">
    <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
    <link href='https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css' rel='stylesheet'>
    <link rel="alternate" type="application/rss+xml" href="../posts/index.xml" title="Waseem Akram" />
    <script defer src="https://twemoji.maxcdn.com/v/13.0.1/twemoji.min.js"></script>
    <!-- google Ads -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9670252621494000"
        crossorigin="anonymous"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-91L7N1KEDR"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'G-91L7N1KEDR');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9670252621494000"
     crossorigin="anonymous"></script>
<!-- hackerwasii -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-9670252621494000"
     data-ad-slot="1081579313"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</head>

<body class="colorscheme-auto" onload=" twemoji.parse(document.body); ">
    <div class="float-container">
        <a id="dark-mode-toggle" class="colorscheme-toggle">
            <i class='bx bx-adjust'></i>
        </a>
    </div>
    <main class="wrapper">
        <nav class="navigation">
            <section class="container">
                <a class="navigation-title" href="/">Waseem Akram</a>
                <input type="checkbox" id="menu-toggle" />
                <label class="menu-button float-right" for="menu-toggle">
                    <i class='bx bx-menu'></i>
                </label>
                <ul class="navigation-list">
                    <li class="navigation-item">
                        <a class="navigation-link" href="/whoami">ðŸ”Ž About</a>
                    </li>

                    <li class="navigation-item">
                        <a class="navigation-link" href="/posts/resources">ðŸŽ‰ Resources</a>
                    </li>

                    <li class="navigation-item">
                        <a class="navigation-link" href="/posts.html">ðŸ“š Blog</a>
                    </li>
                </ul>
            </section>
        </nav>
        <div class="content">
            <section class="container post">
                <article>
                    <header>
                        <div class="post-title">
                            <h1 class="title">
                                <a class="title-link" href="/posts/instahack.html">
                                    how to hack instagram account using bruteforce
                                </a>
                            </h1>
                        </div>
                        <div class="post-meta">
                            <div class="date">
                                <span class="posted-on">
                                    <i class='bx bxs-calendar'></i>
                                    <time datetime='2022-07-25T12:06:55&#43;01:00'>
                                        July 20, 2022
                                    </time>
                                </span>
                                <span class="reading-time">
                                    <i class='bx bx-time-five'></i>
                                    2-minute read
                                </span>
                            </div>
                            <div class="categories">
                                <i class='bx bxs-folder'></i>
                                <a href="/categories/categories">hacking</a>
                                <span class="separator">â€¢</span>
                                <a href="/categories/categories">kali Linux</a>
                            </div>
                            <div class="tags">
                                <i class='bx bxs-purchase-tag'></i>
                                <span class="tag">
                                    <a href="/tags/tags">hacking</a>
                                </span>
                                <span class="separator">â€¢</span>
                                <span class="tag">
                                    <a href="/tags/tags">android</a>
                                </span>
                            </div>
                        </div>
                    </header>
                    <div>
                        <p>
                            <h2 id="android-security-model">Android Security Model</h2>
                            <h4>There are two layers:</h4>
                            <ul>
                                <li>The <strong>OS</strong>, which keeps installed applications isolated from one
                                    another.</li>
                                <li>The <strong>application itself</strong>, which allows developers to <strong>expose
                                        certain functionalities</strong> and configures application capabilities.</li>
                            </ul>
                            <h2 id="uid-separation">UID Separation</h2>
                            <strong>Each application is assigned a specific User ID</strong>. This is done during the
                            installation of the
                            app so <strong>the app can only interact with files owned by its User ID or shared
                                files</strong>. Therefore,
                            only the app itself, certain components of the OS and the root user can access the apps
                            data.
                        </p>
                        <h2 id="uid-sharing">UID Sharing</h2>
                        <p>
                            <strong>Two applications can be configured to use the same UID</strong>. This can be useful
                            to share
                            information, but if one of them is compromised the data of both applications will be
                            compromised. This is why this behaviour is <strong>discourage.
                                To share the same UID, applications must define the same
                                <code>android:sharedUserId</code> value in their
                                manifests</strong>
                        </p>
                        <h2 class="sand-boxing">Sandboxing</h2>
                        <p>
                            The <strong>Android Application Sandbox</strong> allows to run <strong>each
                                application</strong> as a<strong> separate process under a
                                separate user ID</strong>. Each process has its own virtual machine, so an appâ€™s code
                            runs in
                            isolation from other apps.
                            From Android 5.0(L) <strong>SELinux</strong> is enforced. Basically, SELinux denied all
                            process interactions
                            and then created policies to <strong>allow only the expected interactions between
                                them.</strong>
                        </p>
                        <h2 class="permissions">Permissions</h2>
                        <p>
                            When you installs an <strong>app and it ask for permissions</strong>, the app is asking for
                            the permissions
                            configured in the <strong><code>uses-permission</code></strong> elements in the
                            <strong>AndroidManifest.xml</strong> file. The
                            uses-permission element indicates the name of the requested permission inside the
                            <strong>name
                                attribute</strong>. It also has the <strong>maxSdkVersion</strong> attribute which stops
                            asking for permissions on
                            versions higher than the one specified.
                            Note that android applications don't need to ask for all the permissions at the beginning,
                            they can also ask for <strong>permissions dynamically</strong> but all the permissions must
                            be declared in
                            the <strong>manifest.</strong>
                            When an app exposes functionality it can limit the <strong>access to only apps that have a
                                specified
                                permission.</strong>
                            A permission element has three attributes:
                            <ul>
                                <li>The <strong>name</strong> of the permission.</li>
                                <li>The <strong>permission-group</strong> attribute, which allows for grouping related
                                    permissions.</li>
                                <li>The <strong>protection-level</strong> which indicates how the permissions are
                                    granted. There are four types:</li>
                                <ul>
                                    <li><strong>Normal:</strong> Used when there are no known threats to the app. The
                                        user is <strong> not required to approve it.</strong></li>
                                    <li><strong>Dangerous:</strong> Indicates the permission grants the requesting
                                        application some <strong>elevated access. Users are requested to approve
                                            them.</strong></li>
                                    <li><strong>Signature:</strong> Only <strong>apps signed by the same certificate as
                                            the one</strong> exporting the component can be granted permission. This is
                                        the strongest type of protection.</li>
                                    <li><strong>SignatureOrSystem:</strong> Only <strong>apps signed by the same
                                            certificate as the one</strong> exporting the component or <strong>apps
                                            running with system-level access</strong> can be granted permissions</li>
                                </ul>
                            </ul>
                        </p>
                        <hr>
                        <h2 class="pre-installed-applications">Pre-Installed Applications</h2>
                        <p>
                            These apps are generally found in the <code>/system/app</code> or
                            <code>/system/priv-app</code> directories and some
                            of them are <strong>optimised</strong> (you may not even find the <code>classes.dex</code>
                            file). Theses applications are
                            worth checking because some times they are <strong>running with too many
                                permissions</strong>(as root).
                            <ul>
                                <li>The ones shipped with the <strong>AOSP</strong>(Android OpenSource
                                    Project)<strong>ROM</strong></li>
                                <li>Added by the device <strong>manufacturer</strong></li>
                                <li>Added by the cell <strong>phone provider</strong> (if purchased from them)</li>
                            </ul>
                        </p>
                        <hr>
                        <h2 class="rooting">Rooting</h2>
                        <p>
                            In order to obtain root access into a physical android device you generally need to
                            <strong>exploit</strong>
                            1 or 2 <strong>vulnerabilities</strong> which use to be <strong>specific</strong> for the
                            <strong>device</strong> and <strong>version.</strong>
                            Once the exploit has worked, usually the Linux <code>su</code> binary is copied into a
                            location specified
                            in the user's PATH env variable like <code>/system/xbin.</code>
                            <br>
                            Once the <code>su</code> binary is configured, another Android app is used to interface with
                            the su
                            binary and <strong>process requests for root access</strong> like <strong>Superuser</strong>
                            and <strong>SuperSU</strong> (available in Google
                            Play store).
                            <details><span style="color: rgb(86, 22, 196); font-weight: bold;">Note that the
                                    rooting process is very dangerous and can damage severely the device</span>
                            </details>
                        </p>
                        <h2 class="roms">ROMs</h2>
                        <p>
                            It's possible to <strong>replace the OS installing a custom firmware</strong>. Doing this
                            it's possible to
                            extend the usefulness of an old device, bypass software restrictions or gain access to the
                            latest Android code.
                            <strong>OmniROM</strong> and <strong>LineageOS</strong> are two of the most popular
                            firmwares to use.
                            <br>
                            <span style="color: rgb(86, 22, 196); font-weight: bold;">Note that not always is necessary
                                to root the device to install a custom firmware. Some
                                manufacturers allow the unlocking of their bootloaders in a well-documented and safe
                                manner.</span>
                        </p>
                        <h2 class="implications">Implications</h2>
                        <p>
                            Once a device is rooted, any app could request access as root. If a malicious application
                            gets it, it can will have access to almost everything and it will be able to damage the
                            phone.
                        </p>
                        <hr>
                        <h2 id="android-application-fundamentals">Android Application Fundamentals</h2>
                        <p>
                            <h3><strong>Fundamentals Review</strong></h3>
                            <ul>
                                <li>Android applications are in the APK file format. <strong>APK is basically a ZIP
                                        file</strong>. (You can rename the file extension to .zip and use unzip to open
                                    and see its contents.)</li>
                                <li>APK Contents (Not exhaustive)</li>
                                <ul>
                                    <li><strong>AndroidManifest.xml</strong></li>
                                    <li>resources.arsc/strings.xml</li>
                                    <li>resources.arsc: a file containing precompiled resources, such as binary XML for
                                        example.</li>
                                    <ul>
                                        <li>res/xml/files_paths.xml</li>
                                    </ul>
                                    <li>META-INF/</li>
                                    <ul>
                                        <li>Certificate lives here!</li>
                                    </ul>
                                    <li><strong>classes.dex</strong></li>
                                    <ul>
                                        <li>Dalvik bytecode for application in the DEX file format. <strong>This is the
                                                Java (or Kotlin) code</strong>compiled that the application will run by
                                            default.</li>
                                    </ul>
                                    <li>lib/</li>
                                    <ul>
                                        <li>Native libraries for the application, by default, live here! Under the lib/
                                            directory, there are the cpu-specific directories.</li>
                                        <ul>
                                            <li><code>armeabi:</code> compiled code for all ARM based processors only
                                            </li>
                                            <li><code>armeabi-v7a:</code> compiled code for all ARMv7 and above based
                                                processors only</li>
                                            <li><code>x86:</code> compiled code for X86</li>
                                            <li><code>mips:</code> compiled code for MIPS processors only</li>
                                        </ul>
                                    </ul>
                                    <li>assets/</li>
                                </ul>
                            </ul>
                        </p>
                    </div>
                </article>
            </section>
        </div>
        <footer class="footer">
            <section class="container">
                Â©2021 - 2022 Waseem Akram Â· Made with <a href="https://github.com/evildevill/" target="_blank">ðŸ’–</a>
            </section>
        </footer>
    </main>
    <script src="/js/dark-mode.js"></script>
</body>

</html>
