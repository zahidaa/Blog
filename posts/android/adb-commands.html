<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Language" content="en">
    <meta name="author" content="Waseem Akram">
    <meta name="description" content="">
    <meta name="keywords" content="adb commands, adb basic commands, how to use adb, how to hack androidusing adb">
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="ADB Commands" />
    <meta name="twitter:description" content="" />
    <meta property="og:title" content="Posts" />
    <meta property="og:description" content="" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="/posts.html" />
    <title>Posts Â· Waseem Akram</title>
    <link rel="canonical" href="/blog">
    <link rel="preload" href="/fonts/forkawesome-webfont.woff2v=1.1.7" as="font" type="font/woff2" crossorigin>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/normalize.css" />
    <link rel="manifest" href="/js/manifest.json">
    <link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">
    <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
    <link href='https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css' rel='stylesheet'>
    <link rel="alternate" type="application/rss+xml" href="posts/index.xml" title="Waseem Akram" />
    <script defer src="https://twemoji.maxcdn.com/v/13.0.1/twemoji.min.js"></script>
    <!-- google Ads -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9670252621494000"
        crossorigin="anonymous"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0PCVFG8BNK"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'G-0PCVFG8BNK');
    </script>
</head>

<body class="colorscheme-auto" onload=" twemoji.parse(document.body); ">
    <div class="float-container">
        <a id="dark-mode-toggle" class="colorscheme-toggle">
            <i class='bx bx-adjust'></i>
        </a>
    </div>
    <main class="wrapper">
        <nav class="navigation">
            <section class="container">
                <a class="navigation-title" href="/">Waseem Akram</a>
                <input type="checkbox" id="menu-toggle" />
                <label class="menu-button float-right" for="menu-toggle">
                    <i class='bx bx-menu'></i>
                </label>
                <ul class="navigation-list">
                    <li class="navigation-item">
                        <a class="navigation-link" href="/whoami">ðŸ”Ž About</a>
                    </li>

                    <li class="navigation-item">
                        <a class="navigation-link" href="/posts/resources">ðŸŽ‰ Resources</a>
                    </li>

                    <li class="navigation-item">
                        <a class="navigation-link" href="/blog">ðŸ“š Blog</a>
                    </li>
                </ul>
            </section>
        </nav>
        <div class="content">
            <section class="container post">
                <article>
                    <header>
                        <div class="post-title">
                            <h1 class="title">
                                <a class="title-link" href="/posts/android/adb-commands">
                                    ADB Commands
                                </a>
                            </h1>
                        </div>
                        <div class="post-meta">
                            <div class="date">
                                <span class="posted-on">
                                    <i class='bx bxs-calendar'></i>
                                    <time datetime='2022-07-25T12:06:55&#43;01:00'>
                                        July 30, 2022
                                    </time>
                                </span>
                                <span class="reading-time">
                                    <i class='bx bx-time-five'></i>
                                    2-minute read
                                </span>
                            </div>
                            <div class="categories">
                                <i class='bx bxs-folder'></i>
                                <a href="/categories/categories">hacking</a>
                                <span class="separator">â€¢</span>
                                <a href="/categories/categories">kali Linux</a>
                            </div>
                            <div class="tags">
                                <i class='bx bxs-purchase-tag'></i>
                                <span class="tag">
                                    <a href="/tags/tags">hacking</a>
                                </span>
                                <span class="separator">â€¢</span>
                                <span class="tag">
                                    <a href="/tags/tags">android</a>
                                </span>
                            </div>
                        </div>
                    </header>
                    <div>
                        <h2>Table of Contents</h2>
                        <aside class="table-of-contents">
                            <nav id="TableOfContents">
                                <ul>
                                    <li><a href="#adb-path">ADB Path</a></li>
                                    <li><a href="#connection">Connection</a></li>
                                    <li><a href="#several-devices">Several devices</a></li>
                                    <li><a href="#port-tunnelig">Port Tunnelig</a></li>
                                    <li><a href="#packet-manager">Packet Manager</a></li>
                                    <li><a href="#packages">Packages</a></li>
                                    <li><a href="#file-manager">File Manager</a></li>
                                    <li><a href="#screen-cap">Screencapture/Screenrecord</a></li>
                                    <li><a href="#shell">Shell</a></li>
                                    <li><a href="#packages">Packages</a></li>
                                    <li><a href="#processes">Processes</a></li>
                                    <li><a href="#system">System</a></li>
                                    <li><a href="#logs">Logs</a></li>
                                    <li><a href="#dumpsys">dumpsys</a></li>
                                    <li><a href="#backup">Backup</a></li>
                                </ul>
                            </nav>
                        </aside>
                        <h4 id="adb-path">Adb is usually located in:</h4>
                        <p>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">#windows<br>C:\Users\<span style="color: #477dd4;">&lt;</span>username<span style="color: #477dd4;">&gt;</span>\AppData\Local\Android\sdk\platform-tools\adb.exe <br><br>#MacOS<br>/Users/<span style="color: #477dd4;">&lt;</span>username<span style="color: #477dd4;">&gt;</span>/Library/Android/sdk/platform-tools/adb</code></pre>
                            </div>
                            <strong>Information obtained from :</strong> <a href="http://adbshell.com/"
                                target="_blank">http://adbshell.com/</a>
                        </p>
                        <hr>
                        <h2 id="connection">Connection</h2>
                        <p>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb devices</code></pre>
                            </div>
                            This will list the connected devices; if <strong
                                style="font-style: italic;">"unathorised"</strong> appears, this means that you have to
                            <strong>unblock</strong> your <strong>mobile</strong> and <strong>accept</strong> the
                            connection
                            <p>
                                This indicates to the device that it has to start and adb server in port 5555:
                                <div class="highlight">
                                    <pre tabindex="0"
                                        style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb tcpip 5555</code></pre>
                                </div>
                                <p>
                                    Connect to that IP and that Port:
                                    <div class="highlight">
                                        <pre tabindex="0"
                                            style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb connect &lt;IP&gt;:&lt;PORT&gt;</code></pre>
                                    </div>
                                    <p>
                                        If you get an error like the following in a Virtual Android software (like
                                        Genymotion):
                                        <div class="highlight">
                                            <pre tabindex="0"
                                                style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb server version (41) doesn't match this client (36); killing...</code></pre>
                                        </div>
                                        <p>
                                            It's because you are trying to connect to an ADB server with a different
                                            version. Just try to find the adb binary the software is using (go to
                                            <code><strong>C:\Program Files\Genymobile\Genymotion</strong></code> and
                                            search for adb.exe)
                                        </p>
                                    </p>
                                </p>
                            </p>
                        </p>
                        <h2 id="several-devices">Several devices</h2>
                        <p>
                            Whenever you find <strong>several devices connected to your machine</strong> you will need
                            to <strong>specify in which one</strong> you want to run the adb command.
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb devices <br>List of devices attached <br><span style="color: #da8735;">10.10.10.247</span>:42135      offline<br><span style="color: #da8735;">127.0.0.1</span>:5555          device</code></pre>
                            </div>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb -s <span style="color: #da8735;">127.0.0.1</span>:5555     shell<br>x86_64:/ <span style="color: #686e75;"># whoami</span><br>root</code></pre>
                            </div>
                        </p>
                        <h2 id="port-tunnelig">Port Tunneling</h2>
                        <p>
                            In case the <strong>adb port</strong> is only <strong>accessible</strong> from
                            <strong>localhost</strong> in the android device but <strong>you have access via
                                SSH</strong> you can <strong>forward the port 5555</strong> and connect via adb:
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback"><span style="color: #803336;">ssh</span> -i ssh_key username@10.10.10.10 -L<span style="color: #da8735;"> 5555</span>:127.0.0.1:5555 -p <span style="color: #da8735;">2222</span><br>adb connect<span style="color: #da8735;"> 127.0.0.1</span>:5555</code></pre>
                            </div>
                        </p>
                        <hr>
                        <h2 id="packet-manager">Packet Manager</h2>
                        <p>
                            <h3><strong>Install/Uninstall</strong></h3>
                            <p>
                                <strong>adb install [option] &lt;path&gt;</strong>
                                <div class="highlight">
                                    <pre tabindex="0"
                                        style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb install test.apk</code></pre>
                                </div>

                                <div class="highlight">
                                    <pre tabindex="0"
                                        style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb install -l test.apk forward lock application</code></pre>
                                </div>

                                <div class="highlight">
                                    <pre tabindex="0"
                                        style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb install -r test.apk replace existing application</code></pre>
                                </div>

                                <div class="highlight">
                                    <pre tabindex="0"
                                        style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb install -t test.apk allow test packages</code></pre>
                                </div>

                                <div class="highlight">
                                    <pre tabindex="0"
                                        style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb install -s test.apk install application on sdcard</code></pre>
                                </div>

                                <div class="highlight">
                                    <pre tabindex="0"
                                        style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb install -d test.apk allow version code downgrade</code></pre>
                                </div>

                                <div class="highlight">
                                    <pre tabindex="0"
                                        style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb install -p test.apk partial application install</code></pre>
                                </div>
                                <p>
                                    <strong>adb install [option] &lt;PACKAGE&gt;</strong>
                                </p>
                                <div class="highlight">
                                    <pre tabindex="0"
                                        style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb uninstall com.test.app</code></pre>
                                </div>

                                <div class="highlight">
                                    <pre tabindex="0"
                                        style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb uninstall -k com.test.app Keep the data and cache directories around after package removal.</code></pre>
                                </div>
                                <p>
                                    <strong>adb uninstall [option] &lt;PACKAGE&gt;</strong>
                                </p>
                                <div class="highlight">
                                    <pre tabindex="0"
                                        style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb uninstall com.test.app</code></pre>
                                </div>

                                <div class="highlight">
                                    <pre tabindex="0"
                                        style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb uninstall -k com.test.app Keep the data and cache directories around after package removal.</code></pre>
                                </div>
                            </p>
                        </p>
                        <h2 id="packages">Packages</h2>
                        <p>
                            Prints all packages, optionally only those whose package name contains the text in
                            &lt;FILTER&gt;
                            <p>
                                <strong>adb shell pm list packages [options] &lt;FILTER-STR&gt;</strong>
                            </p>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb shell pm list packages &lt;FILTER-STR&gt;</code></pre>
                            </div>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb shell pm list packages -f &lt;FILTER-STR&gt; #See their associated file.</code></pre>
                            </div>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb shell pm list packages -d &lt;FILTER-STR&gt; #Filter to only show disabled packages.</code></pre>
                            </div>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb shell pm list packages -e &lt;FILTER-STR&gt; #Filter to only show enabled packages.</code></pre>
                            </div>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb shell pm list packages -s &lt;FILTER-STR&gt; #Filter to only show system packages.</code></pre>
                            </div>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb shell pm list packages -3 &lt;FILTER-STR&gt; #Filter to only show third party packages.</code></pre>
                            </div>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb shell pm list packages -i &lt;FILTER-STR&gt; #See the installer for the packages.</code></pre>
                            </div>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb shell pm list packages -u &lt;FILTER-STR&gt; #Also include uninstalled packages.</code></pre>
                            </div>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb shell pm list packages --user &lt;USER_ID&gt; &lt;FILTER-STR&gt; #The user space to query.</code></pre>
                            </div>
                            <p>
                                <strong>adb shell pm path &lt;PACKAGE&gt;</strong>
                                <p>
                                    Print the path to the APK of the given .
                                </p>
                                <div class="highlight">
                                    <pre tabindex="0"
                                        style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb shell pm path com.android.phone</code></pre>
                                </div>
                            </p>
                            <p>
                                <strong>adb shell pm clear &lt;PACKAGE&gt;</strong>
                                <p>
                                    Delete all data associated with a package.
                                </p>
                                <div class="highlight">
                                    <pre tabindex="0"
                                        style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb shell pm clear com.test.abc</code></pre>
                                </div>
                            </p>
                        </p>
                        <hr>
                        <h2 id="file-manager">File Manager</h2>
                        <p>
                            <strong>adb pull &lt;remote&gt; [local]</strong>
                            <p>
                                Download a specified file from an emulator/device to your computer.
                            </p>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb pull /sdcard/demo.mp4 ./</code></pre>
                            </div>
                        </p>
                        <p>
                            <strong>adb push &lt;local&gt; &lt;remote&gt;</strong>
                            <p>
                                Upload a specified file from your computer to an emulator/device.
                            </p>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb push test.apk /sdcard</code></pre>
                            </div>
                        </p>
                        <hr>
                        <h2 id="screen-cap">Screencapture/Screenrecord</h2>
                        <p>
                            <strong>adb shell screencap &lt;filename&gt;</strong>
                            <p>
                                Taking a screenshot of a device display.
                            </p>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb shell screencap /sdcard/screen.png</code></pre>
                            </div>
                        </p>
                        <p>
                            <strong>adb shell screenrecord [options] &lt;filename&gt;</strong>
                            <p>
                                Recording the display of devices running Android 4.4 (API level 19) and higher.
                            </p>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb shell screenrecord /sdcard/demo.mp4<br>adb shell screenrecord --size &lt;WIDTHxHEIGHT&gt;<br>adb shell screenrecord --bit-rate &lt;RATE&gt;<br>adb shell screenrecord --time-limit &lt;TIME&gt; #Sets the maximum recording time, in seconds. The default and maximum value is 180 (3 minutes).<br>adb shell screenrecord --rotate # Rotates 90 degrees <br>adb shell screenrecord --verbose</code></pre>
                            </div>
                            (press Ctrl-C to stop recording)
                            <p>
                                <strong>You can download the files (images and videos) using _adb pull_</strong>
                            </p>
                        </p>
                        <hr>
                        <h2 id="shell">Shell</h2>
                        <p>
                            <strong>adb shell</strong>
                            <p>
                                Get a shell inside the device
                            </p>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb shell</code></pre>
                            </div>
                        </p>
                        <p>
                            <strong>adb shell &lt;cmd&gt;</strong>
                            <p>
                                Execute a command inside the device
                            </p>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb shell ls</code></pre>
                            </div>
                        </p>
                        <p>
                            <strong>Pm</strong>
                            <p>
                                The following commands are executed inside of a shell
                            </p>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">pm list packages #List installed packages<br>pm path &lt;package name&gt; #Get the path to the apk file of tha package<br>am start [&lt;options&gt;] #Start an activity. Whiout options you can see the help menu<br>am startservice [&lt;options&gt;] #Start a service. Whiout options you can see the help menu<br>am broadcast [&lt;options&gt;] #Send a broadcast. Whiout options you can see the help menu <br>input [text|keyevent] #Send keystrokes to device</code></pre>
                            </div>
                        </p>
                        <hr>
                        <h2 id="processes">Processes</h2>
                        <p>
                            <p>
                                If you want to get the PID of the process of your application you can execute:
                            </p>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb shell ps</code></pre>
                            </div>
                        </p>
                        <p>
                            And search for your application
                            <p>
                                Or you can do
                            </p>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb shell pidof com.your.application</code></pre>
                            </div>
                            And it will print the PID of the application
                        </p>
                        <hr>
                        <h2 id="system">System</h2>
                        <p>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb root</code></pre>
                            </div>
                            Restarts the adbd daemon with root permissions. Then, you have to conenct again to the ADB
                            server and you will be root (if available)
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb sideload &lt;update.zip&gt;</code></pre>
                            </div>
                            flashing/restoring Android update.zip packages.
                        </p>
                        <hr>
                        <h2 id="logs">Logs</h2>
                        <p>
                            <strong>
                                <h4>Logcat</h4>
                            </strong>
                            To <strong>filter the messages of only one application,</strong>get the PID of the
                            application
                            and use grep (linux/macos) or findstr (windows) to filter the output of logcat:
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb logcat | grep 4526 <br>adb logcat | findstr 4526</code></pre>
                            </div>
                            <strong>adb logcat [option] [filter-specs]</strong>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb logcat</code></pre>
                            </div>
                            Notes: press Ctrl-C to stop monitor

                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb logcat *:V #lowest priority, filter to only show Verbose level</code></pre>
                            </div>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb logcat *:D #filter to only show Debug level</code></pre>
                            </div>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb logcat *:I #filter to only show Info level</code></pre>
                            </div>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb logcat *:W #filter to only show Warning level</code></pre>
                            </div>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb logcat *:E #filter to only show Error level</code></pre>
                            </div>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb logcat *:F #filter to only show Fatal level</code></pre>
                            </div>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb logcat *:S #Silent, highest priority, on which nothing is ever printed</code></pre>
                            </div>
                            <br>
                            <strong>adb logcat -b &lt;Buffer&gt;</strong>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb logcat -b radio View the buffer that contains radio/telephony related messages.</code></pre>
                            </div>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb logcat -b event View the buffer containing events-related messages.</code></pre>
                            </div>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb logcat -b main default</code></pre>
                            </div>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb logcat -c Clears the entire log and exits.</code></pre>
                            </div>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb logcat -d Dumps the log to the screen and exits.</code></pre>
                            </div>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb logcat -f test.logs Writes log message output to test.logs .</code></pre>
                            </div>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb logcat -g Prints the size of the specified log buffer and exits.</code></pre>
                            </div>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb logcat -n &lt;count&gt; Sets the maximum number of rotated logs to &lt;count&gt;. </code></pre>
                            </div>
                        </p>
                        <h2 id="dumpsys">dumpsys</h2>
                        <p>
                            dumps system data
                            <strong>
                                <h5>adb shell dumpsys [options]</h5>
                            </strong>
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb shell dumpsys</code></pre>
                            </div>
                            adb shell dumpsys meminfo
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb shell dumpsys battery</code></pre>
                            </div>
                            Notes: A mobile device with Developer Options enabled running Android 5.0 or higher.
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb shell dumpsys batterystats collects battery data from your device</code></pre>
                            </div>
                            <p>
                                Notes: <a href="https://github.com/google/battery-historian" style="color: #181B58;"
                                    target="_blank">Battery Historian</a> converts that data into an HTML visualization.
                                <strong>STEP 1</strong> adb shell dumpsys batterystats > batterystats.txt <strong>STEP
                                    2</strong> python
                                historian.py batterystats.txt > batterystats.html
                                <div class="highlight">
                                    <pre tabindex="0"
                                        style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb shell dumpsys batterystats --reset erases old collection data</code></pre>
                                </div>
                                adb shell dumpsys activity
                            </p>
                        </p>
                        <hr>
                        <h2 id="backup">Backup</h2>
                        <p>
                            Backup an android device from adb.
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">adb backup [-apk] [-shared] [-system] [-all] -f file.backup <br># -apk -- Include APK from Third partie's applications <br># -shared -- Include removable storage <br># -system -- Include system Applciations <br># -all -- Include all the applications <br><br>adb shell pm list packages -f -3      #List packages <br>adb backup -f myapp_backup.ab -apk com.myapp # backup on one device <br>adb restore myapp_backup.ab                  # restore to the same or any other device</code></pre>
                            </div>
                            If you want to inspect the content of the backup:
                            <div class="highlight">
                                <pre tabindex="0"
                                    style="color:#e5e5e5;background-color: #22272E;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">( <span style="color: #da8735;">printf</span><span style="color: #225ebd;"> "\x1f\x8b\x08\x00\x00\x00\x00\x00"</span> ; <span style="color: #bd1419;">tail</span> -c +25 myapp_backup.ab ) <span style="color: #da8735;">|</span> <span style="color: #bd1419;">tar</span> xfvz -</code></pre>
                            </div>
                        </p>
                        <hr>
                        <div class="pagination">
                            <div class="pagination__buttons">
                                <span class="button__next">
                                    <a href="/posts/android/android-applications-basics" style="text-decoration: none;">
                                        <span class="button-text" title="previous post">Previous : Android App Baiscs â†’</span>
                                    </a>
                                </span>
                            </div>
                    </div>
                </article>
            </section>
        </div>
        <footer class="footer">
            <section class="container">
                Â©2021 - 2022 Waseem Akram Â· Made with <a href="https://github.com/evildevill/" target="_blank">ðŸ’–</a>
            </section>
        </footer>
    </main>
    <script src="/js/dark-mode.js"></script>
</body>

</html>